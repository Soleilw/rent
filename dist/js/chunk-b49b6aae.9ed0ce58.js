(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b49b6aae"],{"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"365c":function(e,t,a){"use strict";var n=a("be3b"),r=a("99b1"),i=a.n(r),l={houser:function(e,t,a){return n["a"].get(i.a.HouseManagers,{page:e,limit:t,address_id:a})},audit:function(e,t){return n["a"].post(i.a.CheckManagers,{id:e,state:t})},addresses:function(e,t,a,r){return n["a"].get(i.a.Addresses,{page:e,limit:t,area_id:a,address:r})},rooms:function(e){return n["a"].post(i.a.Rooms,e)},households:function(e,t,a,r,l,s,o){return n["a"].get(i.a.Households,{page:e,limit:t,user_id:a,address_id:r,type:l,state:s,room_id:o})}};t["a"]=l},"74e9":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("div",{staticClass:"btn"},[a("el-input",{staticClass:"search",attrs:{placeholder:"输入ID/用户名"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(e.renter_id)}},model:{value:e.renter_id,callback:function(t){e.renter_id=t},expression:"renter_id"}})],1),a("div",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.search(e.renter_id)}}},[e._v("搜索")])],1),a("el-table",{attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"用户ID",align:"center"}}),a("el-table-column",{attrs:{prop:"snapshot.name",label:"用户名",align:"center"}}),a("el-table-column",{attrs:{prop:"snapshot.phone",label:"手机号",align:"center"}}),a("el-table-column",{attrs:{prop:"snapshot.card_number",label:"身份证",align:"center",width:"200px"}}),a("el-table-column",{attrs:{prop:"address.address",label:"房屋地址",align:"center",width:"300px"}}),a("el-table-column",{attrs:{prop:"room_id",label:"房屋编号",align:"center"}}),a("el-table-column",{attrs:{prop:"snapshot.href",label:"人脸照片",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{"max-width":"180px","max-height":"80px"},attrs:{src:e.row.snapshot.href}})]}}])}),a("el-table-column",{attrs:{prop:"typeString",label:"用户身份",align:"center"}}),a("el-table-column",{attrs:{prop:"state",label:"审核状态",align:"center"}}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.handleLogs(t.$index,t.row)}}},[e._v("进出记录")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.handleAudit(t.$index,t.row)}}},[e._v("审核")])]}}])})],1),a("el-dialog",{attrs:{title:"进出记录",visible:e.dialogLogs},on:{"update:visible":function(t){e.dialogLogs=t}}},[a("div",{staticClass:"box"},[a("el-table",{attrs:{data:e.logsData}},[a("el-table-column",{attrs:{prop:"id",label:"用户ID",align:"center"}}),a("el-table-column",{attrs:{prop:"id",label:"用户名",align:"center"}}),a("el-table-column",{attrs:{prop:"id",label:"手机号",align:"center"}}),a("el-table-column",{attrs:{prop:"id",label:"房屋名称",align:"center"}}),a("el-table-column",{attrs:{prop:"id",label:"房屋单元",align:"center"}}),a("el-table-column",{attrs:{prop:"id",label:"人脸照片",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{"min-width":"80px","min-height":"80px"},attrs:{src:e,alt:""}})]}}])}),a("el-table-column",{attrs:{prop:"id",label:"真实姓名",align:"center"}}),a("el-table-column",{attrs:{prop:"id",label:"用户身份",align:"center"}})],1)],1),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.currentLogsPage,"page-sizes":[10,20,30,40,50],"page-size":e.pageSizeLogs,layout:"sizes, prev, pager, next, jumper",total:e.totalLogsPage},on:{"current-change":e.handleCurrentLogs,"update:currentPage":function(t){e.currentLogsPage=t},"update:current-page":function(t){e.currentLogsPage=t},"size-change":e.handleSizeLogs}})],1)]),a("el-dialog",{attrs:{visible:e.dialogAudit,title:"审核",width:"20%",align:"center"},on:{"update:visible":function(t){e.dialogAudit=t}}},[a("div",{staticStyle:{"font-size":"20px","margin-bottom":"30px"}},[e._v("是否通过审核")]),a("span",[a("el-button",{attrs:{type:"primary"},on:{click:e.toAudit}},[e._v("通过")]),a("el-button",{attrs:{type:"danger"},on:{click:e.unAudit}},[e._v("不通过")])],1)]),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40,50],"page-size":e.pageSize,layout:"sizes, prev, pager, next, jumper",total:e.totalPage},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"size-change":e.handleSizeChange}})],1)],1)},r=[],i=(a("4160"),a("ac1f"),a("841c"),a("159b"),a("365c")),l={data:function(){return{loading:!1,form:{identity:""},tableData:[{}],currentPage:1,pageSize:10,totalPage:0,dialogLogs:!1,logsData:[],currentLogsPage:1,pageSizeLogs:10,totalLogsPage:0,dialogAudit:!1,renter_id:""}},mounted:function(){this.getAllRent()},methods:{getAllRent:function(){var e=this;i["a"].households(e.currentPage,e.pageSize).then((function(t){e.tableData=t.data,e.totalPage=t.total,e.tableData.forEach((function(e){switch(e.type){case 1:e.type="户主";break;case 2:e.type="租客";break;case 3:e.type="家庭成员";break;case 4:e.type="物业"}switch(e.state){case 1:e.state="待审核";break;case 2:e.state="已通过";break;case 3:e.state="未通过"}}))}))},search:function(){var e=this;e.rent_id?i["a"].search(e.rent_id).then((function(t){e.tableData=t.data,e.totalPage=1,e.rent_id="",e.$message.success("搜索成功！")})):e.$message.warning("请输入ID/用户名")},handleLogs:function(){var e=this;e.dialogLogs=!0},handleAudit:function(e,t){var a=this;a.renter_id=t.id,a.dialogAudit=!0},toAudit:function(){var e=this;i["a"].audit(e.renter_id,2).then((function(t){e.$message.success("提交成功"),e.dialogAudit=!1,e.getAllRent()}))},unAudit:function(){var e=this;i["a"].audit(e.renter_id,3).then((function(t){e.$message.success("提交成功"),e.dialogAudit=!1,e.getAllRent()}))},handleCurrentChange:function(e){var t=this;t.currentPage=e,i["a"].households(e,t.pageSize).then((function(e){t.tableData=e.data,t.totalPage=e.total,t.tableData.forEach((function(e){switch(e.type){case 1:e.type="户主";break;case 2:e.type="租客";break;case 3:e.type="家庭成员";break;case 4:e.type="物业"}switch(e.state){case 1:e.state="待审核";break;case 2:e.state="已K通过";break;case 3:e.state="未通过"}}))}))},handleSizeChange:function(e){var t=this;t.pageSize=e,i["a"].households(t.currentPage,e).then((function(e){t.tableData=e.data,t.totalPage=e.total,t.tableData.forEach((function(e){switch(e.type){case 1:e.type="户主";break;case 2:e.type="租客";break;case 3:e.type="家庭成员";break;case 4:e.type="物业"}switch(e.state){case 1:e.state="待审核";break;case 2:e.state="已K通过";break;case 3:e.state="未通过"}}))}))},handleCurrentLogs:function(e){},handleSizeLogs:function(e){}}},s=l,o=a("2877"),c=Object(o["a"])(s,n,r,!1,null,null,null);t["default"]=c.exports},"841c":function(e,t,a){"use strict";var n=a("d784"),r=a("825a"),i=a("1d80"),l=a("129f"),s=a("14c3");n("search",1,(function(e,t,a){return[function(t){var a=i(this),n=void 0==t?void 0:t[e];return void 0!==n?n.call(t,a):new RegExp(t)[e](String(a))},function(e){var n=a(t,e,this);if(n.done)return n.value;var i=r(e),o=String(this),c=i.lastIndex;l(c,0)||(i.lastIndex=0);var u=s(i,o);return l(i.lastIndex,c)||(i.lastIndex=c),null===u?-1:u.index}]}))}}]);
//# sourceMappingURL=chunk-b49b6aae.9ed0ce58.js.map